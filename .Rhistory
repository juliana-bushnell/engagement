kable(teamszn)
install.packages("nflplotR")
install.packages("nflreadr")
library(ggplot2)
library(knitr)
library(nflplotR)
library(nflreadr)
library(ggplot2)
library(dplyr, warn.conflicts = FALSE)
library(knitr)
library(kableExtra)
library(ggplot2)
library(dplyr, warn.conflicts = FALSE)
teamszn <- table(train$PossessionTeam, train$Season)
library(knitr)
kable(teamszn)
teamszn %>%
kbl() %>%
kable_paper("hover", full_width = F)
teamszn <- table(train$PossessionTeam, train$Season)
library(knitr)
kable(teamszn)
teamszn %>%
kbl() %>%
kable_paper("hover", full_width = F)
PRINT(teamszn)
print(teamszn)
print(posessionteam)
print(train$PossessionTeam)
nfc_east <- c("DAL", "NYG", "PHI", "WAS")
nfc_west <- c("ARZ", "SEA", "LA", "SF")
nfc_north <- c("CHI", "DET", "GB", "MIN")
nfc_south <- c("ATL", "CAR", "NO", "TB")
afc_east<- c("BUF", "MIA", "NE", "NYJ")
afc_west<- c("DEN", "KC", "OAK", "LAC")
afc_north<- c("BAL", "CIN", "CLV", "PIT")
afc_south<- c("HST","IND","JAX","TEN" )
teamszn <- table(train$PossessionTeam, train$Season)
library(knitr)
kable(teamszn)
teamszn %>%
kbl() %>%
kable_paper("hover", full_width = F)
nfc_east <- c("DAL", "NYG", "PHI", "WAS")
nfc_west <- c("ARZ", "SEA", "LA", "SF")
nfc_north <- c("CHI", "DET", "GB", "MIN")
nfc_south <- c("ATL", "CAR", "NO", "TB")
afc_east<- c("BUF", "MIA", "NE", "NYJ")
afc_west<- c("DEN", "KC", "OAK", "LAC")
afc_north<- c("BAL", "CIN", "CLV", "PIT")
afc_south<- c("HST","IND","JAX","TEN" )
tbl1plot <-
ggplot(teamszn, aes(x = PosessionTeam, y = Season)) +
geom_point() +
geom_smooth(method = lm) +
theme_bw()
tbl1plot <-
ggplot(teamszn, aes(x = PosessionTeam, y = Season)) +
geom_point() +
geom_smooth(method = lm) +
theme_bw()
nfc_east <- c("DAL", "NYG", "PHI", "WAS")
nfc_west <- c("ARZ", "SEA", "LA", "SF")
nfc_north <- c("CHI", "DET", "GB", "MIN")
nfc_south <- c("ATL", "CAR", "NO", "TB")
afc_east<- c("BUF", "MIA", "NE", "NYJ")
afc_west<- c("DEN", "KC", "OAK", "LAC")
afc_north<- c("BAL", "CIN", "CLV", "PIT")
afc_south<- c("HST","IND","JAX","TEN" )
tbl1plot <-
ggplot(train, aes(x = PosessionTeam, y = Season)) +
geom_point() +
geom_smooth(method = lm) +
theme_bw()
teamszn <- table(train$PossessionTeam, train$Season)
library(knitr)
teamszn %>%
kbl() %>%
kable_paper("hover", full_width = F)
nfc_east <- c("DAL", "NYG", "PHI", "WAS")
nfc_west <- c("ARZ", "SEA", "LA", "SF")
nfc_north <- c("CHI", "DET", "GB", "MIN")
nfc_south <- c("ATL", "CAR", "NO", "TB")
afc_east<- c("BUF", "MIA", "NE", "NYJ")
afc_west<- c("DEN", "KC", "OAK", "LAC")
afc_north<- c("BAL", "CIN", "CLV", "PIT")
afc_south<- c("HST","IND","JAX","TEN" )
tbl1plot <-
ggplot(train, aes(x = PosessionTeam, y = Season))
tbl1plot <-
ggplot(train, aes(x = PosessionTeam, y = Season))
print(train$PossessionTeam)
nfc_east <- c("DAL", "NYG", "PHI", "WAS")
nfc_west <- c("ARZ", "SEA", "LA", "SF")
nfc_north <- c("CHI", "DET", "GB", "MIN")
nfc_south <- c("ATL", "CAR", "NO", "TB")
afc_east<- c("BUF", "MIA", "NE", "NYJ")
afc_west<- c("DEN", "KC", "OAK", "LAC")
afc_north<- c("BAL", "CIN", "CLV", "PIT")
afc_south<- c("HST","IND","JAX","TEN" )
tbl1plot <-
ggplot(train, aes(x = Season, y = PosessionTeam))
nfc_east <- c("DAL", "NYG", "PHI", "WAS")
nfc_west <- c("ARZ", "SEA", "LA", "SF")
nfc_north <- c("CHI", "DET", "GB", "MIN")
nfc_south <- c("ATL", "CAR", "NO", "TB")
afc_east<- c("BUF", "MIA", "NE", "NYJ")
afc_west<- c("DEN", "KC", "OAK", "LAC")
afc_north<- c("BAL", "CIN", "CLV", "PIT")
afc_south<- c("HST","IND","JAX","TEN" )
tbl1plot <-
ggplot(train, aes(x = Season, y = PosessionTeam))
print(tbl1plot)
nfc_east <- c("DAL", "NYG", "PHI", "WAS")
nfc_west <- c("ARZ", "SEA", "LA", "SF")
nfc_north <- c("CHI", "DET", "GB", "MIN")
nfc_south <- c("ATL", "CAR", "NO", "TB")
afc_east<- c("BUF", "MIA", "NE", "NYJ")
afc_west<- c("DEN", "KC", "OAK", "LAC")
afc_north<- c("BAL", "CIN", "CLV", "PIT")
afc_south<- c("HST","IND","JAX","TEN" )
tbl1plot <-
ggplot(train, aes(x = Season, y = PossessionTeam))
print(tbl1plot)
nfc_east <- c("DAL", "NYG", "PHI", "WAS")
nfc_west <- c("ARZ", "SEA", "LA", "SF")
nfc_north <- c("CHI", "DET", "GB", "MIN")
nfc_south <- c("ATL", "CAR", "NO", "TB")
afc_east<- c("BUF", "MIA", "NE", "NYJ")
afc_west<- c("DEN", "KC", "OAK", "LAC")
afc_north<- c("BAL", "CIN", "CLV", "PIT")
afc_south<- c("HST","IND","JAX","TEN" )
tbl1plot <-
ggplot(train, aes(x = PossessionTeam, y = Team))
print(tbl1plot)
nfc_east <- c("DAL", "NYG", "PHI", "WAS")
nfc_west <- c("ARZ", "SEA", "LA", "SF")
nfc_north <- c("CHI", "DET", "GB", "MIN")
nfc_south <- c("ATL", "CAR", "NO", "TB")
afc_east<- c("BUF", "MIA", "NE", "NYJ")
afc_west<- c("DEN", "KC", "OAK", "LAC")
afc_north<- c("BAL", "CIN", "CLV", "PIT")
afc_south<- c("HST","IND","JAX","TEN" )
tbl1plot <-
ggplot(train, aes(x = PossessionTeam, y = Season))
print(tbl1plot)
nfc_east <- c("DAL", "NYG", "PHI", "WAS")
nfc_west <- c("ARZ", "SEA", "LA", "SF")
nfc_north <- c("CHI", "DET", "GB", "MIN")
nfc_south <- c("ATL", "CAR", "NO", "TB")
afc_east<- c("BUF", "MIA", "NE", "NYJ")
afc_west<- c("DEN", "KC", "OAK", "LAC")
afc_north<- c("BAL", "CIN", "CLV", "PIT")
afc_south<- c("HST","IND","JAX","TEN" )
tbl1plot <-
ggplot(train, aes(x = PossessionTeam, y = PlayerHeight))
print(tbl1plot)
nfc_east <- c("DAL", "NYG", "PHI", "WAS")
nfc_west <- c("ARZ", "SEA", "LA", "SF")
nfc_north <- c("CHI", "DET", "GB", "MIN")
nfc_south <- c("ATL", "CAR", "NO", "TB")
afc_east<- c("BUF", "MIA", "NE", "NYJ")
afc_west<- c("DEN", "KC", "OAK", "LAC")
afc_north<- c("BAL", "CIN", "CLV", "PIT")
afc_south<- c("HST","IND","JAX","TEN" )
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight))
print(tbl1plot)
print(playerheight)
Print(PlayerHeight)
print(PlayerHeight)
print(train$PlayerHeight)
mean(train$PlayerHeight if(train$PossessionTeam == Sea)))
mean(train(train$Distance == 'Sea', 'PosessionTeam'))
mean(train[train$Distance == 'Sea', 'PosessionTeam'])
mean(train[train$Distance == 'Sea', 'PossessionTeam'])
mean(train[train$Distance == 'SEA', 'PossessionTeam'])
mean(train[train$PosessionTeam == 'Sea', 'Distance'])
mean(train[train$PossessionTeam == 'SEA', 'Distance'])
print(train$Distance)
distanceteam <- table(train$PossessionTeam, train$Distance)
library(knitr)
distanceteam %>%
kbl() %>%
kable_paper("hover", full_width = F)
tbl1plot <-
ggplot(distanceteam))
print(tbl1plot)
tbl1plot <-
ggplot(distanceteam)
print(tbl1plot)
tbl1plot <-
ggplot(train, aes(x = PossessionTeam, y = Distance))
print(tbl1plot)
tbl1plot <-
ggplot(train, aes(x = PossessionTeam, y = Distance))
print(tbl1plot)
```
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight))
print(tbl1plot)
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight) geom_point())
print(tbl1plot)
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight)) + geom_point())
print(tbl1plot)
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight)) + geom_point()
print(tbl1plot)
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight)) + geom_point(color='blue')
geom_smooth(method='lm'))
print(tbl1plot)
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight)) + geom_point(color='blue') +
geom_smooth(method='lm')
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight)) + geom_point(color='blue') +
geom_smooth(method='lm')
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight)) + geom_point(color='blue') +
geom_smooth(method='lm')
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight)) + geom_point(color='blue') +
geom_smooth(method='lm')
print(tbl1plot)
nfc_east <- c("DAL", "NYG", "PHI", "WAS")
nfc_west <- c("ARZ", "SEA", "LA", "SF")
nfc_north <- c("CHI", "DET", "GB", "MIN")
nfc_south <- c("ATL", "CAR", "NO", "TB")
afc_east<- c("BUF", "MIA", "NE", "NYJ")
afc_west<- c("DEN", "KC", "OAK", "LAC")
afc_north<- c("BAL", "CIN", "CLV", "PIT")
afc_south<- c("HST","IND","JAX","TEN" )
distanceteam <- table(train$PossessionTeam, train$Distance)
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight)) + geom_point(color='blue') +
geom_smooth(method='lm')
print(tbl1plot)
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight)) + geom_point(color='blue')
print(tbl1plot)
tbl1plot <-
ggplot(train, aes(x = PlayerHeight, y = PlayerWeight)) + geom_point(color='blue')
print(tbl1plot + ggtitle(label = "Player Height (x) by Player Weight (y)",))
a <- 1
b <- 2
d <- "foo"
e <- "bar"
paste0(d, a, e, b)
a <- list(hello = "foo", world = "bar")
paste0(a, collapse = "_")
a <- list(hello = "foo", world = "bar")
paste0(a$hello, "_", a$world)
names <- list("Lincoln", "Grant", "Theodore")
ages <- c(4, 2, 0)
paste0(names, ages)
names <- list("Lincoln", "Grant", "Theodore")
ages <- c(4, 2, 0)
paste0(names, ages)
names <- list("Lincoln", "Grant", "Theodore")
ages <- c(4, 2, 0)
paste0(names, ages)
names <- list("Lincoln", "Grant", "Theodore")
ages <- c(4, 2, 0)
paste0(names, ages)
a <- list(hello = "foo", world = "bar")
paste0(a$hello, "_", a$world)
names <- list("Lincoln", "Grant", "Theodore")
ages <- c(4, 2, 0)
paste0(names, ages, collapse = "/")
params <- list(
ab = c("vrc01", "pgt122"),
cutpoint = c(0, 1)
)
paste0(
"ab_", params$ab[1], "_",
"cut_", params$cutpoint[1], ".rds"
)
setwd("~/Desktop/info_550/engagement")
# load data
data <- read.csv(here::here("course_engagement.csv"), header=TRUE)
library(here)
library(dplyr)
library(tidyverse)
library(gtsummary)
library(ggplot2)
renv::snapshot()
library(here)
install.packages("here")
library(here)
library(here)
library(dplyr)
library(tidyverse)
library(gtsummary)
library(ggplot2)
here::i_am("code/02_total_views.R")
week_select <- as.numeric(Sys.getenv("WEEK"))
# load data
data <- read.csv(here::here("course_engagement.csv"), header=TRUE)
# recode error in week 1 video_number
data <- data %>%
group_by(week) %>%
mutate(video_number = 1:length(video_number)) %>%
ungroup()
# include only week, video_number, and views columns
data <- data[, c(1,2,5)]
# create table
data1 <- data %>%
pivot_wider(names_from = video_number,
values_from = views, names_prefix = "video")
dat_for_table <- data1 %>% slice(week = week_select)
saveRDS(
dat_for_table,
file = here::here(paste0("output/week",week_select,"_total_views_table.rds")
))
# create visualization
data3 <- data %>% filter(week == week_select)
barplot <- ggplot(data3, aes(x=video_number, y=views)) +
geom_bar(stat = "identity") + ggtitle("Views for each video in week **") +
xlab("Video number") + ylab("Views")
ggsave(
here::here(paste0("output/week",week_select,"_total_views_barplot.png")),
plot=barplot,
device = "png"
)
library(here)
library(dplyr)
library(tidyverse)
library(gtsummary)
library(ggplot2)
here::i_am("code/01_unique_views.R")
#configlist<-config::get()
week_select <- as.numeric(Sys.getenv("WEEK"))
absolute_file_path<-here::here("course_engagement.csv")
data <- read.csv(absolute_file_path, header = TRUE)
#Table
data <- data %>%
group_by(week) %>%
mutate(video_number = 1:length(video_number)) %>%
ungroup()
data <- data[, -c(3,4,5,7,8)]
data1 <-data%>%
pivot_wider(names_from = video_number,
values_from = unique_viewers,names_prefix = "video")
#configlist$parameter<-data1%>%slice(configlist$numberparam)
dat_for_table <- data1 %>% slice(week = week_select)
saveRDS(
dat_for_table,
file = here::here(paste0("output/week",week_select,"_Unique_views_table.rds")
))
#Visualization
data<-data%>%filter(week==week_select)
barplot<-ggplot(data, aes(x=video_number, y=unique_viewers)) +
geom_bar(stat = "identity")
ggsave(
here::here(paste0("output/week",week_select,"_Unique_views_barplot.png")),
plot=barplot,
device = "png"
)
library(here)
library(dplyr)
library(tidyverse)
library(gtsummary)
library(ggplot2)
library(lubridate)
here::i_am("code/03_video_length.R")
#configlist<-config::get()
week_select <- as.numeric(Sys.getenv("WEEK"))
absolute_file_path<-here::here("course_engagement.csv")
data <- read.csv(absolute_file_path, header = TRUE)
data$lengthinseconds <- period_to_seconds(ms(data$length))
NA_length_rows <- which(is.na(data$lengthinseconds))
data$lengthinseconds[NA_length_rows] <- period_to_seconds(hms(data$length[NA_length_rows]))
#Table
data <- data %>%
group_by(week) %>%
mutate(video_number = 1:length(video_number)) %>%
ungroup()
data <- data %>% select(week, video_number, lengthinseconds)
data1 <-data%>%
pivot_wider(names_from = video_number,
values_from = lengthinseconds,names_prefix = "video")
dat_for_table <- data1 %>% slice(week = week_select)
saveRDS(
dat_for_table,
file = here::here(paste0("output/week",week_select,"_video_length_table.rds")
))
#Visualization
data <- data %>% filter(week == week_select)
barplot<-ggplot(data, aes(x=video_number, y=lengthinseconds)) +
geom_bar(stat = "identity") +
labs(x="Video Number",y="video length in seconds")
#barplot
ggsave(
here::here(paste0("output/week",week_select,"_video_length_plot.png")),
plot=barplot,
device = "png"
)
library(dplyr)
install.packages("dplyr")
library(dplyr)
install.packages("tidyverse")
install.packages("gtsummary")
install.packages("ggplot2")
library(here)
library(dplyr)
library(tidyverse)
library(gtsummary)
library(ggplot2)
here::i_am("code/01_unique_views.R")
#configlist<-config::get()
week_select <- as.numeric(Sys.getenv("WEEK"))
absolute_file_path<-here::here("course_engagement.csv")
data <- read.csv(absolute_file_path, header = TRUE)
#Table
data <- data %>%
group_by(week) %>%
mutate(video_number = 1:length(video_number)) %>%
ungroup()
data <- data[, -c(3,4,5,7,8)]
data1 <-data%>%
pivot_wider(names_from = video_number,
values_from = unique_viewers,names_prefix = "video")
#configlist$parameter<-data1%>%slice(configlist$numberparam)
dat_for_table <- data1 %>% slice(week = week_select)
saveRDS(
dat_for_table,
file = here::here(paste0("output/week",week_select,"_Unique_views_table.rds")
))
#Visualization
data<-data%>%filter(week==week_select)
barplot<-ggplot(data, aes(x=video_number, y=unique_viewers)) +
geom_bar(stat = "identity")
ggsave(
here::here(paste0("output/week",week_select,"_Unique_views_barplot.png")),
plot=barplot,
device = "png"
)
library(here)
library(dplyr)
library(tidyverse)
library(gtsummary)
library(ggplot2)
here::i_am("code/01_unique_views.R")
#configlist<-config::get()
week_select <- as.numeric(Sys.getenv("WEEK"))
absolute_file_path<-here::here("course_engagement.csv")
data <- read.csv(absolute_file_path, header = TRUE)
#Table
data <- data %>%
group_by(week) %>%
mutate(video_number = 1:length(video_number)) %>%
ungroup()
data <- data[, -c(3,4,5,7,8)]
data1 <-data%>%
pivot_wider(names_from = video_number,
values_from = unique_viewers,names_prefix = "video")
#configlist$parameter<-data1%>%slice(configlist$numberparam)
dat_for_table <- data1 %>% slice(week = week_select)
saveRDS(
dat_for_table,
file = here::here(paste0("output/week",week_select,"_Unique_views_table.rds")
))
#Visualization
data<-data%>%filter(week==week_select)
barplot<-ggplot(data, aes(x=video_number, y=unique_viewers)) +
geom_bar(stat = "identity")
view(barplot)
view("barplot")
here::i_am("code/01_unique_views.R")
#configlist<-config::get()
week_select <- as.numeric(Sys.getenv("WEEK"))
data <- read.csv(absolute_file_path, header = TRUE)
library(here)
library(dplyr)
library(tidyverse)
library(gtsummary)
library(ggplot2)
here::i_am("code/01_unique_views.R")
configlist<-config::get()
week_select <- as.numeric(Sys.getenv("WEEK"))
absolute_file_path<-here::here("course_engagement.csv")
data <- read.csv(absolute_file_path, header = TRUE)
#Table
data <- data %>%
group_by(week) %>%
mutate(video_number = 1:length(video_number)) %>%
ungroup()
data <- data[, -c(3,4,5,7,8)]
data1 <-data%>%
pivot_wider(names_from = video_number,
values_from = unique_viewers,names_prefix = "video")
#configlist$parameter<-data1%>%slice(configlist$numberparam)
dat_for_table <- data1 %>% slice(week = week_select)
saveRDS(
dat_for_table,
file = here::here(paste0("output/week",week_select,"_Unique_views_table.rds")
))
#Visualization
data<-data%>%filter(week==week_select)
barplot<-ggplot(data, aes(x=video_number, y=unique_viewers)) +
geom_bar(stat = "identity")
ggsave(
here::here(paste0("output/week",week_select,"_Unique_views_barplot.png")),
plot=barplot,
device = "png"
)
#configlist$parameter<-data1%>%slice(configlist$numberparam)
dat_for_table <- data1 %>% slice(week = week_select)
View(dat_for_table)
